# 핸들링 모션 기반 RC카 네트워크 시스템

**실제 자동차를 운전하듯, 모션으로 제어하는 CAN/RTOS 기반 차세대 RC카 프로젝트**

<br>

프로젝트 동작 영상 (GIF)
-> 핸들 모션으로 RC카 조향이 되는 GIF 첨부

<br>

## 📖 프로젝트 소개

기존의 조이스틱이나 건(Gun) 타입 조종기에서 벗어나, **실제 운전과 같은 직관적인 경험**을 제공하기 위해 시작된 프로젝트입니다. 사용자의 핸들링 모션을 IMU 센서로 직접 읽어 **RF 통신**으로 RC카를 제어하며, RC카 내부는 실제 차량처럼 **CAN 통신**으로 여러 제어 장치(ECU)가 유기적으로 연결되어 동작합니다.

단순한 취미용 RC카를 넘어, **FreeRTOS**를 탑재하여 실시간으로 여러 작업을 안정적으로 처리하는 완성도 높은 임베디드 시스템을 구현하는 것을 목표로 했습니다.

## 주요 특징

- **직관적인 모션 제어**: MPU6050 IMU 센서를 통해 사용자의 실제 핸들링 모션으로 스티어링을 조작합니다.
- **차량 내 CAN 네트워크**: 3개의 ECU(메인, 센서, 구동)가 CAN 버스로 연결되어 데이터를 교환하는 분산 제어 시스템을 구축했습니다.
- **양방향 원격 측정 (Telemetry)**: nRF24L01 모듈을 이용해 차량의 속도, 장애물 감지 신호 등을 컨트롤러의 OLED 화면과 햅틱으로 실시간 피드백 받습니다.
- **RTOS 기반 멀티태스킹**: 컨트롤러와 차량의 모든 ECU에 `FreeRTOS`를 적용하여 데이터 수집, 통신, 모터 제어 등의 작업을 안정적으로 동시에 수행합니다.
- **높은 가성비**: `STM32F103`, `nRF24L01` 등 검증된 오픈소스 하드웨어를 사용하여 전문적인 시스템을 합리적인 비용으로 구현했습니다.

---

## 프로젝트 파일 구성 

본 시스템은 1개의 무선 컨트롤러와, CAN 네트워크로 연결된 3개의 차량 내 제어 유닛(ECU)으로 구성된 분산 제어 시스템입니다. 총 4개의 독립적인 펌웨어 프로젝트로 개발되었으며, 각 프로젝트는 공통된 디렉토리 구조를 공유합니다.

```
ex)

Unit_controller/
├── Core/         # 핵심 애플리케이션 및 사용자 코드
│   ├── Inc/      # 헤더 파일 (*.h)
│   └── Src/      # 소스 파일 (*.c)
├── Drivers/      # STM32 HAL 드라이버 및 CMSIS 라이브러리
├── Middlewares/  # FreeRTOS 미들웨어 소스 코드
├── Debug/        # 빌드 결과물 및 디버깅 관련 파일
└── README_controller.md # 주요 함수 설명
```

### 프로젝트 파일 바로가기

- [Unit_controller](./Unit_controller/)
<br> 이 프로젝트 파일은 조종기의 무선 제어 신호 송신을 담당합니다.

- [Unit_car_central](./Unit_car_central/)
<br> 이 프로젝트 파일은 차량의 메인 제어부를 담당합니다. 

- [Unit_car_status](./Unit_car_status/)
<br> 이 프로젝트 파일은 차량의 상태 정보 관리를 담당합니다.

- [Unit_car_sensor](./Unit_car_sensor/)
<br> 이 프로젝트 파일은 차량의 센서 데이터 처리를 담당합니다. 

---

## 프로젝트 개발 히스토리

원활한 심사 진행을 위해 본 제출용 저장소에는 최종 버전의 코드를 정리하여 담았습니다.

저희 팀이 초기 아이디어에서 출발하여 수많은 테스트와 디버깅, 그리고 RTOS 이식 등의 점진적인 개선을 거쳐 현재의 시스템을 완성하기까지의 모든 여정은 아래 개발 리포지토리에 기록되어 있습니다. 모든 커밋 내역과 상세 개발 일지를 통해 저희의 고민과 성장 과정을 확인하실 수 있습니다.

**➡ [전체 개발 히스토리 및 커밋 로그 확인하기](https://github.com/YeonsuJ/Car_control_project.git)**
